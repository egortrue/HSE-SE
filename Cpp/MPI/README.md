# Перемножение матриц с помощью MPI

```
mpic++ src/main.cpp -o app && mpiexec -n <thead_count> ./app <matrix_size> <algorithm>
```

## Алгоритм 1: по строкам
Делим матрицу А на строки и отдаем их потокам с помощью MPI_Scatter. Матрицу B отдаем всем потокам полностью с помощью MPI_Bcast. Поток перемножает, отданные ему, строки на всю матрицу B. Все потоки отсылают данные в главный поток с помощью MPI_Gather.

## Алгоритм 2: по столбцам
Делим матрицу А на столбцы и отдаем их потокам с помощью MPI_Scatter. Матрицу B отдаем всем потокам полностью с помощью MPI_Bcast. Поток перемножает, отданные ему, столбцы на элементы матрицы B, получая часть результирующей матрицы. Все потоки отсылают свои части в главный поток с помощью MPI_Reduce.

## Алгоритм 3: по блокам


## Примеры логов

По строкам (Матрица 5x5 | 3 Потока)
```
Matrix A [
 2.00  5.00  4.00  3.00  2.00 
 2.00  1.00  3.00  1.00  3.00 
 1.00  2.00  1.00  1.00  5.00 
 4.00  5.00  1.00  3.00  1.00 
 5.00  2.00  4.00  4.00  5.00 
]
Matrix B [
 2.00  2.00  4.00  2.00  1.00 
 5.00  2.00  2.00  2.00  5.00 
 3.00  5.00  2.00  2.00  4.00 
 1.00  1.00  5.00  1.00  2.00 
 4.00  2.00  1.00  2.00  2.00 
]
Local Result [
36.00 22.00 20.00 19.00 27.00 
43.00 28.00 44.00 25.00 41.00 
]
Local Result [
56.00 48.00 57.00 36.00 49.00 
]
Local Result [
52.00 41.00 43.00 29.00 53.00 
31.00 28.00 24.00 19.00 27.00 
]
Global Result [
52.00 41.00 43.00 29.00 53.00 
31.00 28.00 24.00 19.00 27.00 
36.00 22.00 20.00 19.00 27.00 
43.00 28.00 44.00 25.00 41.00 
56.00 48.00 57.00 36.00 49.00 
]
```

По столбцам (Матрица 5x5 | 3 Потока)
```
Matrix A [
 1.00  2.00  2.00  1.00  4.00 
 4.00  1.00  4.00  2.00  4.00 
 3.00  2.00  5.00  3.00  3.00 
 2.00  2.00  1.00  5.00  3.00 
 1.00  4.00  3.00  1.00  1.00 
]
Matrix B [
 3.00  4.00  4.00  4.00  4.00 
 1.00  1.00  1.00  3.00  1.00 
 2.00  1.00  2.00  4.00  4.00 
 1.00  5.00  3.00  3.00  4.00 
 4.00  1.00  4.00  2.00  2.00 
]
Local Result [
 0.00  0.00 58.00 47.00  0.00 
 0.00  0.00 17.00 22.00  0.00 
 0.00  0.00 34.00 34.00  0.00 
 0.00  0.00 52.00 39.00  0.00 
 0.00  0.00 40.00 30.00  0.00 
]
Local Result [
 0.00  0.00  0.00  0.00 56.00 
 0.00  0.00  0.00  0.00 21.00 
 0.00  0.00  0.00  0.00 34.00 
 0.00  0.00  0.00  0.00 46.00 
 0.00  0.00  0.00  0.00 40.00 
]
Local Result [
43.00 42.00  0.00  0.00  0.00 
15.00 15.00  0.00  0.00  0.00 
24.00 33.00  0.00  0.00  0.00 
40.00 35.00  0.00  0.00  0.00 
26.00 29.00  0.00  0.00  0.00 
]
Global Result [
43.00 42.00 58.00 47.00 56.00 
15.00 15.00 17.00 22.00 21.00 
24.00 33.00 34.00 34.00 34.00 
40.00 35.00 52.00 39.00 46.00 
26.00 29.00 40.00 30.00 40.00 
]
```
